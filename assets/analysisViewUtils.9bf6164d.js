import{z as o,A as l,B as d,Y as r,a5 as v,i9 as p,b2 as f,aT as h,d8 as m,I as D}from"./vendor.508dc62e.js";import{c as $}from"./InteractiveToolBase.d0b67f52.js";let n=class extends ${constructor(t){super(t)}initialize(){this.own(r(()=>this.analysisViewData.visible,t=>this.visible=t,v))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};o([l({constructOnly:!0})],n.prototype,"analysis",void 0),o([l()],n.prototype,"analysisViewData",void 0),n=o([d("esri.views.interactive.AnalysisToolBase")],n);function V(t,a,i){const e=u(t,a);t.view.activeTool=e;let s=m(i,()=>c(t,a));return p(async y=>{await f(()=>!e.active,y),s=h(s),c(t,a)},i)}function x(t,a){return r(()=>t.interactive,()=>c(t,a),v)}function c(t,a){t.interactive?u(t,a):w(t)}function u(t,a){w(t);const{view:i,analysis:e}=t,s=new a({view:i,analysis:e,analysisViewData:t});return t.tool=s,i.tools.add(s),s}function w(t){const{view:a,tool:i}=t;D(i)||(a.tools.remove(i),t.tool=null)}export{n as a,x as c,w as m,V as s};
