import{L as T,K as b,p,b as m,f as c,l as j,c as $,P,S as R,a as x,s as M,d as H,h as N,e as W,C as q,g as G,i as K,x as B,j as L,k as V,m as A,T as Q,U,n as v,o as O,q as J,r as X,u as Y,t as ee,v as te}from"./vendor.fe24faac.js";const re=function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const t of r)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function a(r){const t={};return r.integrity&&(t.integrity=r.integrity),r.referrerpolicy&&(t.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?t.credentials="include":r.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(r){if(r.ep)return;r.ep=!0;const t=a(r);fetch(r.href,t)}};re();const s=new T({basemap:"satellite",ground:"world-elevation"}),ie=new b({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Zermatt_hiking_cable_rail/FeatureServer/0",title:"Railway lines",legendEnabled:!1,elevationInfo:{mode:"on-the-ground"},renderer:new p({symbol:new m({symbolLayers:[new c({material:{color:[30,30,30]},size:"2.7px"}),new c({material:{color:[240,240,240]},size:"1.5px"}),new c({pattern:new j({style:"dash"}),material:{color:[30,30,30]},size:"1.5px"})]})})});s.add(ie);const ae=new b({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Zermatt_hiking_cable_rail/FeatureServer/2",title:"Cable cars",legendEnabled:!1,elevationInfo:{mode:"absolute-height"},renderer:new p({symbol:new m({symbolLayers:[new $({material:{color:[77,77,77]},join:"bevel",width:5,height:5}),new c({material:{color:[77,77,77]},join:"bevel",size:3})]})})});s.add(ae);const w=new b({url:"https://services2.arcgis.com/cFEFS0EWrhfDeVw9/arcgis/rest/services/Ski%20Slopes%20Zermatt/FeatureServer",title:"Ski Slopes",elevationInfo:{mode:"on-the-ground"},renderer:new P({field:"difficulty",defaultLabel:"Other",uniqueValueInfos:[{label:"Easy",symbol:new m({symbolLayers:[new c({material:{color:"#007ac2"},join:"bevel",cap:"round",size:1.5})]}),value:"easy"},{label:"Medium",symbol:new m({symbolLayers:[new c({material:{color:"#d90012"},join:"bevel",cap:"round",size:1.5})]}),value:"medium"},{label:"Difficult",symbol:new m({symbolLayers:[new c({material:{color:[0,0,0]},join:"bevel",cap:"round",size:1.5})]}),value:"hard"}]})});s.add(w);const Z=new b({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Zermatt_hiking_cable_rail/FeatureServer/1",title:"Hiking paths",visible:!1,elevationInfo:{mode:"on-the-ground"},renderer:new P({field:"difficulty",field2:"theme",fieldDelimiter:", ",legendOptions:{title:"Hiking paths"},uniqueValueInfos:[{value:"easy, ",symbol:u("solid",[252,194,1])},{value:"medium, ",symbol:u("dash",[252,194,1])},{value:"difficult, ",symbol:u("dot",[252,194,1])},{value:"easy, panoramic",symbol:u("solid",[250,59,32])},{value:"medium, panoramic",symbol:u("dash",[250,59,32])},{value:"difficult, panoramic",symbol:u("dot",[250,59,32])}]})});s.add(Z);const _=new b({url:"https://services2.arcgis.com/cFEFS0EWrhfDeVw9/arcgis/rest/services/Zermatt_Rocks/FeatureServer",title:"Rocks",legendEnabled:!1,listMode:"hide",elevationInfo:{mode:"on-the-ground"},renderer:new p({symbol:new R({symbolLayers:[new x({material:{color:[43,43,43,.36],colorMixMode:"replace"}})]})})});s.add(_);const le=new M({url:"https://services2.arcgis.com/cFEFS0EWrhfDeVw9/arcgis/rest/services/Buildings_Zermatt/SceneServer",title:"Buildings",legendEnabled:!1,listMode:"hide",renderer:new p({symbol:new H({symbolLayers:[new x({material:{color:[194,159,99],colorMixMode:"tint"}})]})})});s.add(le);const se=new M({url:"https://services2.arcgis.com/cFEFS0EWrhfDeVw9/arcgis/rest/services/Building_Roofs_Zermatt/SceneServer",title:"Roofs",legendEnabled:!1,listMode:"hide",renderer:new p({symbol:new H({symbolLayers:[new x({material:{color:[115,76,0],colorMixMode:"tint"}})]})})});s.add(se);const z=new M({url:"https://services2.arcgis.com/cFEFS0EWrhfDeVw9/arcgis/rest/services/ZermattTreesFinal/SceneServer",title:"Trees",legendEnabled:!1,visible:!1,renderer:new p({symbol:new N({symbolLayers:[new W({resource:{href:"https://static.arcgis.com/arcgis/styleItems/RealisticTrees/gltf/resource/LarixDecidua.glb"},height:30})]})})});s.add(z);const E=new q({url:"https://services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",title:"Hillshade",legendEnabled:!1,listMode:"hide"}),e=new G({container:"viewDiv",map:s,camera:new K({position:{longitude:7.80103763,latitude:46.03375606,z:4264.89987},heading:231.57,tilt:77.49}),qualityProfile:"high",environment:{weather:{type:"snowy",cloudCover:.14,precipitation:.3,snowCover:"disabled"},atmosphere:{quality:"high"}}});e.map.basemap=s.basemap=B.fromId("");e.map.ground.surfaceColor=new L("#d9ecff");e.map.layers.add(E);E.blendMode="luminosity";const ne=new V({view:e,content:new A({view:e}),group:"top-right"}),oe=new V({view:e,content:new Q({view:e}),group:"top-right"});e.ui.add([ne,oe],"top-right");const f=new U({view:e,profiles:[new v,new O]});console.log();const S=new V({view:e,content:f,expanded:!1});e.ui.add(S,"bottom-right");e.ui.add(new J({view:e}),"top-left");new X({view:e,container:"legend"});let k=document.getElementById("summer"),I=document.getElementById("winter"),h=document.getElementById("slopes");k.addEventListener("click",()=>{k.appearance="solid",I.appearance="outline",e.environment.weather=new Y({cloudCover:.5}),w.visible=!1,Z.visible=!0,E.visible=!1,_.visible=!1,z.visible=!0,s.basemap=B.fromId("satellite"),h.style.visibility="hidden"});I.addEventListener("click",()=>{I.appearance="solid",k.appearance="outline",e.environment.weather=new ee({cloudCover:.14,precipitation:.3,snowCover:"enabled"}),w.visible=!0,Z.visible=!1,E.visible=!0,_.visible=!0,z.visible=!1,s.basemap=B.fromId(""),h.style.visibility="visible"});let F=!1;var C;(C=document.getElementById("rotateButton"))==null||C.addEventListener("click",()=>{F=!F,D()});e.ui.add("rotateButton","bottom-left");let g=null,n="";e.when(()=>{let i=["Kuhbodmen","Gandegg","Weisse Perle","Matterhorn panorama","Furgg - Furi"],l=["Easy Rider","Glacier Run","Valley Slope","Matterhorn Panorama","Express Track"];for(let o=0;o<i.length;o++){var a=w.createQuery();a.where="title = '"+i[o]+"'",console.log(a.where),w.queryFeatures(a).then(r=>{if(r.features.length>0){let d=r.features[0];var t=document.createElement("calcite-button");switch(t.appearance="outline",t.id=d.getObjectId().toString(),t.classList.add("slope"),d.attributes.difficulty){case"easy":t.classList.add("blue");break;case"medium":t.classList.add("red");break;case"hard":t.classList.add("black");break}t.innerHTML=l[o],h==null||h.appendChild(t),t.addEventListener("click",()=>{e.goTo(d.geometry).then(()=>{}),f.profiles=[new v],y(d)})}})}});e.on("click",function(i){e.hitTest(i.screenPoint).then(function(l){var a=l.results[0];a&&(a.graphic.layer.title=="Ski Slopes"||a.graphic.layer.title=="Hiking paths")?(f.profiles=[new v],y(a.graphic)):a&&a.graphic.layer.title=="Cable cars"?(f.profiles=[new v,new O],y(a.graphic)):y(null)})});function y(i){i==null||n!=""&&n==i.attributes.ObjectId?(g&&g.remove(),f.viewModel.input=new te,S.expanded=!1,document.getElementById(n)&&(document.getElementById(n).appearance="outline"),n="",e.popup.close()):(e.whenLayerView(i.layer).then(l=>{g&&g.remove(),g=l.highlight([i.attributes.ObjectId])}),f.viewModel.input=i,S.expanded=!0,document.getElementById(n)&&n!=""&&(document.getElementById(n).appearance="outline"),n=i.attributes.ObjectId,document.getElementById(n)&&(document.getElementById(n).appearance="solid"))}function D(){F&&!e.interacting&&(e.goTo({heading:e.camera.heading+.2,center:e.center},{animate:!1}),requestAnimationFrame(D))}function u(i,l){const a=new L(l),o=new L(l);return o.a=.2,new m({symbolLayers:[new c({material:{color:o},size:i==="dot"?"3px":"2px"}),new c({pattern:new j({style:i}),cap:"round",join:"round",material:{color:a},size:i==="dot"?"3px":"1.6px"})]})}window.view=e;
