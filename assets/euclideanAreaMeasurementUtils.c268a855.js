import{lx as C,I as x,aC as R,b3 as b,b4 as d,ly as u,lz as k,lA as z,az as A,ln as B,lB as m,lC as F,kj as W}from"./vendor.508dc62e.js";import{a as $}from"./quantityUtils.759564e3.js";import{i as v}from"./measurementUtils.5ef825ab.js";function Z(o,r=y()){return j(o,r)}function q(o,r=y()){return j(o,r,!1)}function j(o,r,l=o.hasZ){const s=v(o.spatialReference),i=C(s);if(x(i))return null;const c=(e,n)=>!(n.length<2)&&(b(e,n[0],n[1],l&&n[2]||0),!0);let g=0;for(const e of o.rings){if(e.length<3)continue;const{positionsWorldCoords:n}=r;for(;n.length<e.length;)n.push(R());const f=w;for(let t=0;t<3;t++)if(!c(f,e[t])||!d(f,o.spatialReference,n[t],s))return null;if(u(n[0],n[1])||u(n[0],n[2])||u(n[1],n[2]))continue;const h=k(n[0],n[1],n[2],z()),p=A(B.get(),n[0]);for(let t=0;t<3;t++)m(h,p,n[t],n[t]);for(let t=3;t<e.length;t++){if(!c(f,e[t]))return null;d(f,o.spatialReference,n[t],s),m(h,p,n[t],n[t])}const a=E(n);for(let t=0;t<a.length;t+=3)g+=W(n[a[t]],n[a[t+1]],n[a[t+2]])}return $(g,i)}const w=R();function y(){return{positionsWorldCoords:[]}}function E(o){return F(I(o),[],2)}function I(o){const r=new Float64Array(2*o.length);for(let l=0;l<o.length;++l){const s=o[l],i=2*l;r[i+0]=s[0],r[i+1]=s[1]}return r}export{y as d,Z as h,q as j,E as v};
