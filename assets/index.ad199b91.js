import{L as q,K as g,p as m,b as u,f as c,l as C,c as D,P as z,S as H,a as k,s as F,d as P,h as T,e as W,C as $,g as N,i as R,x,j as w,k as M,m as K,T as G,U as A,n as Q,o as U,u as J,q as X,r as Y}from"./vendor.508dc62e.js";const ee=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const h of i.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerpolicy&&(i.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?i.credentials="include":t.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(t){if(t.ep)return;t.ep=!0;const i=n(t);fetch(t.href,i)}};ee();const l=new q({basemap:"satellite",ground:"world-elevation"}),te=new g({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Zermatt_hiking_cable_rail/FeatureServer/0",title:"Railway lines",legendEnabled:!1,elevationInfo:{mode:"on-the-ground"},renderer:new m({symbol:new u({symbolLayers:[new c({material:{color:[30,30,30]},size:"2.7px"}),new c({material:{color:[240,240,240]},size:"1.5px"}),new c({pattern:new C({style:"dash"}),material:{color:[30,30,30]},size:"1.5px"})]})})});l.add(te);const ie=new g({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Zermatt_hiking_cable_rail/FeatureServer/2",title:"Cable cars",legendEnabled:!1,elevationInfo:{mode:"absolute-height"},renderer:new m({symbol:new u({symbolLayers:[new D({material:{color:[77,77,77]},join:"bevel",width:5,height:5})]})})});l.add(ie);const p=new g({url:"https://services2.arcgis.com/cFEFS0EWrhfDeVw9/arcgis/rest/services/Ski%20Slopes%20Zermatt/FeatureServer",title:"Ski Slopes",elevationInfo:{mode:"on-the-ground"},renderer:new z({field:"difficulty",defaultLabel:"Other",uniqueValueInfos:[{label:"Easy",symbol:new u({symbolLayers:[new c({material:{color:"#007ac2"},join:"bevel",cap:"round",size:1.5})]}),value:"easy"},{label:"Medium",symbol:new u({symbolLayers:[new c({material:{color:"#d90012"},join:"bevel",cap:"round",size:1.5})]}),value:"medium"},{label:"Difficult",symbol:new u({symbolLayers:[new c({material:{color:[0,0,0]},join:"bevel",cap:"round",size:1.5})]}),value:"difficult"}]})});l.add(p);const B=new g({url:"https://services.arcgis.com/V6ZHFr6zdgNZuVG0/arcgis/rest/services/Zermatt_hiking_cable_rail/FeatureServer/1",title:"Hiking paths",visible:!1,renderer:new z({field:"difficulty",field2:"theme",fieldDelimiter:", ",legendOptions:{title:"Hiking paths"},uniqueValueInfos:[{value:"easy, ",symbol:d("solid",[252,194,1])},{value:"medium, ",symbol:d("dash",[252,194,1])},{value:"difficult, ",symbol:d("dot",[252,194,1])},{value:"easy, panoramic",symbol:d("solid",[250,59,32])},{value:"medium, panoramic",symbol:d("dash",[250,59,32])},{value:"difficult, panoramic",symbol:d("dot",[250,59,32])}]})});l.add(B);const V=new g({url:"https://services2.arcgis.com/cFEFS0EWrhfDeVw9/arcgis/rest/services/Zermatt_Rocks/FeatureServer",title:"Rocks",legendEnabled:!1,listMode:"hide",elevationInfo:{mode:"on-the-ground"},renderer:new m({symbol:new H({symbolLayers:[new k({material:{color:[43,43,43,.36],colorMixMode:"replace"}})]})})});l.add(V);const re=new F({url:"https://services2.arcgis.com/cFEFS0EWrhfDeVw9/arcgis/rest/services/Buildings_Zermatt/SceneServer",title:"Buildings",legendEnabled:!1,listMode:"hide",renderer:new m({symbol:new P({symbolLayers:[new k({material:{color:[194,159,99],colorMixMode:"tint"}})]})})});l.add(re);const ae=new F({url:"https://services2.arcgis.com/cFEFS0EWrhfDeVw9/arcgis/rest/services/Building_Roofs_Zermatt/SceneServer",title:"Roofs",legendEnabled:!1,listMode:"hide",renderer:new m({symbol:new P({symbolLayers:[new k({material:{color:[115,76,0],colorMixMode:"tint"}})]})})});l.add(ae);const Z=new F({url:"https://services2.arcgis.com/cFEFS0EWrhfDeVw9/arcgis/rest/services/ZermattTreesFinal/SceneServer",title:"Trees",legendEnabled:!1,visible:!1,renderer:new m({symbol:new T({symbolLayers:[new W({resource:{href:"https://static.arcgis.com/arcgis/styleItems/RealisticTrees/gltf/resource/LarixDecidua.glb"},height:30})]})})});l.add(Z);const b=new $({url:"https://services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",title:"Hillshade",legendEnabled:!1,listMode:"hide"}),e=new N({container:"viewDiv",map:l,camera:new R({position:{longitude:7.80103763,latitude:46.03375606,z:4264.89987},heading:231.57,tilt:77.49}),qualityProfile:"high",environment:{weather:{type:"snowy",cloudCover:.14,precipitation:.3,snowCover:"enabled"},atmosphere:{quality:"high"}}});e.map.basemap=l.basemap=x.fromId("");e.map.ground.surfaceColor=new w("#d9ecff");e.map.layers.add(b);b.blendMode="luminosity";const se=new M({view:e,content:new K({view:e}),group:"top-right"}),le=new M({view:e,content:new G({view:e}),group:"top-right"});e.ui.add([se,le],"top-right");const y=new A({view:e}),v=new M({view:e,content:y,expanded:!1});e.ui.add(v,"bottom-right");e.ui.add(new Q({view:e}),"top-left");new U({view:e,container:"legend"});let E=document.getElementById("summer"),L=document.getElementById("winter"),j=document.getElementById("slopes");E.addEventListener("click",()=>{E.appearance="solid",L.appearance="outline",e.environment.weather=new J({cloudCover:.5}),p.visible=!1,B.visible=!0,b.visible=!1,V.visible=!1,Z.visible=!0,l.basemap=x.fromId("satellite"),j.style.visibility="hidden"});L.addEventListener("click",()=>{L.appearance="solid",E.appearance="outline",e.environment.weather=new X({cloudCover:.14,precipitation:.3,snowCover:"enabled"}),p.visible=!0,B.visible=!1,b.visible=!0,V.visible=!0,Z.visible=!1,l.basemap=x.fromId(""),j.style.visibility="visible"});let S=!1;var _;(_=document.getElementById("rotateButton"))==null||_.addEventListener("click",()=>{S=!S,O()});e.ui.add("rotateButton","bottom-left");let f=null,o="";e.when(()=>{ne()});e.on("click",function(r){e.hitTest(r.screenPoint).then(function(s){var n=s.results[0];n&&(n.graphic.layer.title=="Ski Slopes"||n.graphic.layer.title=="Cable cars")?I(n.graphic):I(null)})});function ne(){let r=document.getElementById("slopes");var s=p.createQuery();p.queryFeatures(s).then(n=>{if(n.features.length>0){let t=n.features;for(let i in t)if(["Furgg - Furi","Kuhbodmen","Weisse Perle","Matterhorn panorama","Plan Maison"].includes(t[i].attributes.title)){var a=document.createElement("calcite-button");switch(a.appearance="outline",a.id=t[i].attributes.ObjectId,a.classList.add("slope"),t[i].attributes.difficulty){case"beginner":a.classList.add("green");break;case"easy":a.classList.add("blue");break;case"medium":a.classList.add("red");break;case"hard":a.classList.add("black");break}a.innerHTML=t[i].attributes.title,r==null||r.appendChild(a),a.addEventListener("click",()=>{e.goTo(t[i].geometry).then(()=>{}),I(t[i])})}}})}function I(r){r==null||o!=""&&o==r.attributes.ObjectId?(f&&f.remove(),y.viewModel.input=new Y,v.expanded=!1,document.getElementById(o)&&(document.getElementById(o).appearance="outline"),o="",e.popup.close()):(e.whenLayerView(r.layer).then(s=>{f&&f.remove(),f=s.highlight([r.attributes.ObjectId])}),y.viewModel.input=r,v.expanded=!0,document.getElementById(o)&&o!=""&&(document.getElementById(o).appearance="outline"),o=r.attributes.ObjectId,document.getElementById(o)&&(document.getElementById(o).appearance="solid"))}function O(){S&&!e.interacting&&(e.goTo({heading:e.camera.heading+.2,center:e.center},{animate:!1}),requestAnimationFrame(O))}function d(r,s){const n=new w(s),a=new w(s);return a.a=.2,new u({symbolLayers:[new c({material:{color:a},size:r==="dot"?"3px":"2px"}),new c({pattern:new C({style:r}),cap:"round",join:"round",material:{color:n},size:r==="dot"?"3px":"1.6px"})]})}window.view=e;
