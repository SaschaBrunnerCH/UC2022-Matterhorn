import{ia as l,aT as p,I as d,F as g,i9 as _,an as u,qZ as v,v as w,Y as n,a5 as o,N as a,q_ as c}from"./vendor.508dc62e.js";import{h as m}from"./HoveredPoints.ec47d731.js";class y{constructor(t){this._params=t,this._highlightTask=null,this._highlightHandle=null}destroy(){this.remove()}remove(){this._highlightTask=l(this._highlightTask),this._highlightHandle=p(this._highlightHandle)}update(t){if(this.remove(),d(t)||!R(t))return;const i=t.layer;this._highlightTask=_(async e=>{const h=await this._params.view.whenLayerView(i);u(e),v(h)&&(this._highlightHandle=h.highlight(t))})}}function R(s){return g(s.geometry)&&s.geometry.type==="polyline"}class ${constructor(t,i){this._handles=new w,this._inputRepresentation=new y({view:t}),this._hoveredPoints=new m({view:t}),this._handles.add([n(()=>i.viewModel.hoveredPoints,e=>this._hoveredPoints.update(e),o),n(()=>{const{state:e,highlightEnabled:h,viewModel:r}=i;return{input:r.input,state:e,highlightEnabled:h}},e=>this._updateInputRepresentation(e),o)])}destroy(){this._handles=a(this._handles),this._inputRepresentation=a(this._inputRepresentation),this._hoveredPoints=a(this._hoveredPoints)}_updateInputRepresentation({input:t,state:i,highlightEnabled:e}){i===c.Selected&&e?this._inputRepresentation.update(t):this._inputRepresentation.remove()}}export{$ as ElevationProfileView2D};
