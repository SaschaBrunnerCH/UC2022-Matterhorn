import{z as h,A as l,B as p,D as v,a4 as m,Y as P,a5 as _,e2 as u,aT as b,q$ as x,r0 as y}from"./vendor.508dc62e.js";let i=class extends v{constructor(e){super(e),this._hoveredPoints=new m}initialize(){this._updateScreenLocationsHandle=P(()=>this._hoveredPoints.toArray().map(({anchor:e,element:t})=>({screenLocation:e.screenLocation,element:t})),e=>{for(const{screenLocation:t,element:n}of e)u(t,({x:r,y:s})=>{n.style.transform=`translate(${r}px, ${s}px)`})},_)}destroy(){this._updateScreenLocationsHandle=b(this._updateScreenLocationsHandle),this._hoveredPoints.drain(e=>this._destroyHoveredPoint(e))}update(e){const t=this.view,n=this._hoveredPoints,r=e.length;for(;this._hoveredPoints.length>r;)this._destroyHoveredPoint(this._hoveredPoints.pop());for(;this._hoveredPoints.length<r;){const s=this._makeHoveredPoint();n.push(s),t.surface.appendChild(s.element)}for(let s=0;s<r;++s){const a=n.getItemAt(r-1-s),d=e[s];this._updateHoveredPoint(a,d)}}_makeHoveredPoint(){const{size:e,borderStyle:t,borderColor:n,borderWidth:r,boxShadow:s}=y,a=this.view,d=new x({view:a,screenLocationEnabled:!0}),c=document.createElement("div"),o=c.style;return o.position="absolute",o.top="0",o.left="0",o.contain="strict",o.boxSizing="border-box",o.width=`${e}px`,o.height=`${e}px`,o.marginTop=`-${e/2}px`,o.marginLeft=`-${e/2}px`,o.border=`${t} ${r}px ${n}`,o.borderRadius=`${e}px`,o.boxShadow=s,{anchor:d,element:c}}_updateHoveredPoint({anchor:e,element:t},n){e.screenLocationEnabled=!0,e.location=n.hoveredPoint;const r=t.style;r.display="block",r.background=n.color.toCss()}_destroyHoveredPoint({anchor:e,element:t}){e.destroy(),this.view.surface.removeChild(t)}};h([l()],i.prototype,"view",void 0),h([l()],i.prototype,"_hoveredPoints",void 0),i=h([p("esri.widgets.ElevationProfile.support.HoveredPoints")],i);export{i as h};
