import{B as o,D as l,E as d,_ as r,a7 as v,ib as p,b4 as f,aV as h,da as m,M as D}from"./vendor.fe24faac.js";import{c as b}from"./InteractiveToolBase.e7b97dce.js";let n=class extends b{constructor(t){super(t)}initialize(){this.own(r(()=>this.analysisViewData.visible,t=>this.visible=t,v))}deactivate(){this.onDeactivate(),this.created||this.analysis.clear()}resetCreated(){this._set("created",!1)}};o([l({constructOnly:!0})],n.prototype,"analysis",void 0),o([l()],n.prototype,"analysisViewData",void 0),n=o([d("esri.views.interactive.AnalysisToolBase")],n);function x(t,a,i){const e=u(t,a);t.view.activeTool=e;let s=m(i,()=>c(t,a));return p(async y=>{await f(()=>!e.active,y),s=h(s),c(t,a)},i)}function B(t,a){return r(()=>t.interactive,()=>c(t,a),v)}function c(t,a){t.interactive?u(t,a):w(t)}function u(t,a){w(t);const{view:i,analysis:e}=t,s=new a({view:i,analysis:e,analysisViewData:t});return t.tool=s,i.tools.add(s),s}function w(t){const{view:a,tool:i}=t;D(i)||(a.tools.remove(i),t.tool=null)}export{n as a,B as c,w as m,x as s};
